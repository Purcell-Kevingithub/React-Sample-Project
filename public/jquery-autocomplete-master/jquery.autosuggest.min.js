(function(h){var d,e,t=-1,g=window.sessionStorage,q;h.fn.autosuggest=function(A){function m(b){0<b.length?(!0===q&&!0===f.typeAhead&&w(b[0]),u(b)):l()}function r(b){if(0<b.length){var c=d.value,n=[],e=[],g=new RegExp(c.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"i");if(0<c.length)for(;n.length!=f.limit&&0!=b.length;){var p=b.shift();0==p.indexOf(c)?n.push(p):0==p.search(g)?e.unshift(p):-1!==p.search(g)&&e.push(p)}e=n.length==f.limit?[]:e.slice(0,f.limit-n.length);0<n.length?(!0===q&&!0===f.typeAhead&&
w(n[0]),u(n.concat(e))):0<e.length?u(e):l()}else l()}function w(b){if(d.createTextRange||d.setSelectionRange){var c=d.value.length;d.value=b;b=b.length;if(d.createTextRange){var f=d.createTextRange();f.moveStart("character",c);f.moveEnd("character",b-d.value.length);f.select()}else d.setSelectionRange&&d.setSelectionRange(c,b);d.focus()}}function l(){e.style.visibility="hidden"}function v(b){for(var c=0;c<e.childNodes.length;c++){var d=e.childNodes[c];d==b?d.className="current":"current"==d.className&&
(d.className="")}}function x(){for(var b=d,c=0;"BODY"!=b.tagName;)c+=b.offsetLeft,b=b.offsetParent;return c}function y(){for(var b=d,c=0;"BODY"!=b.tagName;)c+=b.offsetTop,b=b.offsetParent;return c}function u(b){var c;e.innerHTML="";e.style.width=f.fixedwith?f.fixedwith+"px":d.offsetWidth+"px";for(var g=0;g<b.length;g++)c=document.createElement("div"),c.appendChild(document.createTextNode(b[g])),e.appendChild(c);e.style.left=x()+"px";e.style.top=y()+d.offsetHeight+"px";e.style.visibility="visible"}
function z(){if(null!==f.suggestionsProvider)if(g&&!0===f.cache){var b=new Date,c=g.getItem("jquery-autosuggest-timestamp-77663434589485"),c=new Date(c);if(!(c.getTime()+1E3*f.cacheduration>b.getTime())&&(b=f.suggestionsProvider.split("."),0<b.length))switch(b.length){case 4:c=window[b[0]][b[1]][b[2]][b[3]](d.value);b=new Date;g.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c));g.setItem("jquery-autosuggest-timestamp-77663434589485",b.toISOString());m(c);break;case 3:c=window[b[0]][b[1]][b[2]](d.value);
b=new Date;g.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c));g.setItem("jquery-autosuggest-timestamp-77663434589485",b.toISOString());m(c);break;case 2:c=window[b[0]][b[1]](d.value);b=new Date;g.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c));g.setItem("jquery-autosuggest-timestamp-77663434589485",b.toISOString());m(c);break;case 1:c=window[suggestionsProvider](d.value),b=new Date,g.setItem("jquery-autosuggest-data-77663434589485",JSON.stringify(c)),g.setItem("jquery-autosuggest-timestamp-77663434589485",
b.toISOString()),m(c)}}else{if(b=f.suggestionsProvider.split("."),0<b.length)switch(b.length){case 4:m(window[b[0]][b[1]][b[2]][b[3]](d.value));break;case 3:m(window[b[0]][b[1]][b[2]](d.value));break;case 2:m(window[b[0]][b[1]](d.value));break;case 1:m(window[suggestionsProvider](d.value))}}else if(null!==f.sugggestionsArray)r(f.sugggestionsArray.slice(0));else if(null!==f.ajaxurl)if(null!==g&&!0===f.cache){var e=encodeURIComponent(f.ajaxurl),l=encodeURIComponent(f.ajaxurl)+"data";if(null!==g.getItem(e))if(b=
new Date,c=g.getItem(e),c=new Date(c),c.getTime()+1E3*f.cacheduration<b.getTime()){var k="";!0===f.setparams&&(k+="?query="+d.value,h.each(f.params,function(b,c){k+="&"+b+"="+c}));h.ajax({url:f.ajaxurl+k,type:"GET",dataType:"json",success:function(b){var c=new Date;g.setItem(l,JSON.stringify(b));g.setItem(e,c.toISOString());r(b)},error:function(b){console.error("There was an error with the ajax request in jquery.autosuggest")}})}else r(JSON.parse(g.getItem(l)));else k="",!0===f.setparams&&(k+="?query="+
d.value,h.each(f.params,function(b,c){k+="&"+b+"="+c})),h.ajax({url:f.ajaxurl+k,type:"GET",dataType:"json",success:function(b){var c=new Date;g.setItem(l,JSON.stringify(b));g.setItem(e,c.toISOString());r(b)},error:function(b){console.error("There was an error with the ajax request in jquery.autosuggest")}})}else k="",!0===f.setparams&&(k+="?query="+d.value,h.each(f.params,function(b,c){k+="&"+b+"="+c})),h.ajax({url:f.ajaxurl+k,type:"GET",dataType:"json",success:function(b){r(b)},error:function(b){console.error("There was an error with the ajax request in jquery.autosuggest!")}});
else console.error("No data source provided for jquery.autosuggest!")}function B(){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=css:c.appendChild(document.createTextNode("div.jquery-autosuggest-suggestions { margin-bottom: 8px;background-color: #ffffff; border-radius: 1px;border: 1px solid #dddddd;position: absolute;}div.jquery-autosuggest-suggestions div {cursor: default;padding: 0px 3px;font-size: 16.099999999999998px;font-weight: 200;line-height: 1.4;border-bottom: 1px solid rgba(128,128,128,0.1);}div.jquery-autosuggest-suggestions div.current {background-color: #428bca;color: white;}"));
b.appendChild(c)}(function(b){d=d||(void 0===b?null:b);e=document.createElement("div");e.className="jquery-autosuggest-suggestions";e.style.visibility="hidden";document.body.appendChild(e);e.onmousedown=e.onmouseup=e.onmouseover=function(b){b=b||window.event;var e=b.target||b.srcElement;"mousedown"==b.type?(d.value=e.firstChild.nodeValue,l()):"mouseover"==b.type?v(e):d.focus()};B()})();var f=h.extend({suggestionsProvider:null,sugggestionsArray:null,typeAhead:!0,ajaxurl:null,cache:!1,limit:10,cacheduration:600,
fixedwith:null,setparams:!1,urlparams:{}},A);h(this).on("keydown",function(b){d=b.target;switch(b.keyCode){case 38:b=e.childNodes;0<b.length&&0<t&&(b=b[--t],v(b),d.value=b.firstChild.nodeValue);break;case 40:b=e.childNodes;0<b.length&&t<b.length-1&&(b=b[++t],v(b),d.value=b.firstChild.nodeValue);break;case 13:l()}});h(this).on("keyup",function(b){d=b.target;if(8==b.keyCode||46==b.keyCode)q=!1,z();32>b.keyCode||33<=b.keyCode&&46>=b.keyCode||112<=b.keyCode&&123>=b.keyCode?q=!1:(q=!0,z())});h(this).on("blur",
function(b){d=b.target;l()});h(window).resize(function(){e.style.width=f.fixedwith?f.fixedwith+"px":d.offsetWidth+"px";e.style.left=x()+"px";e.style.top=y()+d.offsetHeight+"px"})}})(jQuery);